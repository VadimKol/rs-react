(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(795)}])},5177:function(e,t,a){"use strict";a.d(t,{o:function(){return l}});var n=a(5893),s=a(3967),r=a.n(s),o=a(7790),c=a.n(o);function l({children:e,type:t="button",onClick:a,className:s,isDisabled:o=!1,id:l="",aria_label:i="Button"}){return(0,n.jsx)("button",{className:r()(c().button,s),type:t,onClick:a,disabled:o,id:l,"aria-label":i,children:e})}},1037:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var n=a(5893),s=a(5007),r=a(4127),o=a(9505),c=a.n(o);function l({character:e}){let t=(0,s.I0)(),a=(0,r._2)(e);return(0,n.jsx)("button",{type:"button",className:c().favorite,name:"favorite",value:String(a),"aria-label":a?"Remove from favorites":"Add to favorites",onClick:()=>e&&(a?t((0,r.zm)(e)):t((0,r._p)(e))),children:a?"★":"☆"})}},151:function(e,t,a){"use strict";a.d(t,{r:function(){return d}});var n=a(5893),s=a(5675),r=a.n(s),o=a(7294),c=a(8024),l=a.n(c);function i(){return(0,n.jsx)("div",{className:l().loader})}var _=a(7649),u=a.n(_);function d({src:e,alt:t}){let[a,s]=(0,o.useState)(!0);return(0,n.jsxs)("div",{className:u().image_container,children:[a&&(0,n.jsx)(i,{}),(0,n.jsx)(r(),{className:a?u().hidden:u().character_img,src:e,alt:t,onLoad:()=>s(!1),width:300,height:300})]})}},795:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return U},default:function(){return I}});var n=a(5893),s=a(1163),r=a(7294),o=a(5007);let c=e=>{let t=e.map(e=>({name:e.name,species:e.species,gender:e.gender,status:e.status,origin:e.origin.name,location:e.location.name,episodes:e.episode.map(e=>e.replace(/\D/g,"")).join(", "),url:e.url})),a=[],n=Object.keys(t[0]||{});return a.push(n.join(",")),t.forEach(e=>{a.push(Object.values(e).map(e=>`"${e.replace(/"/g,'\\"')}"`).join(","))}),a.join("\n")};var l=a(4127),i=a(5177),_=a(6388),u=a.n(_);function d(){let e=(0,o.I0)(),t=(0,l.rc)(),a=URL.createObjectURL(new Blob([c(t)],{type:"text/csv"}));return(0,r.useEffect)(()=>()=>URL.revokeObjectURL(a),[a]),!!t.length&&(0,n.jsxs)("div",{className:u().flyout,children:[(0,n.jsx)("h3",{className:u().title,children:`${t.length} items are selected`}),(0,n.jsxs)("div",{className:u().buttons,children:[(0,n.jsx)(i.o,{className:u().button,"aria-label":"Unselect all",onClick:()=>e((0,l.V1)()),children:"Unselect all"}),(0,n.jsx)(i.o,{className:u().button,"aria-label":"Download as .csv",children:(0,n.jsx)("a",{className:u().download_link,href:a,download:`${t.length}_characters.csv`,children:"Download"})})]})]})}var h={src:"/_next/static/media/not_found.76733abb.jpg"},f=a(1664),x=a.n(f),p=a(1037),m=a(151),g=a(8930),b=a.n(g);function j({character:e}){let{query:{page:t,search:a}}=(0,s.useRouter)();return(0,n.jsxs)("div",{className:b().card,children:[(0,n.jsx)(m.r,{src:e.image,alt:"Character"}),(0,n.jsxs)("div",{className:b().text_container,children:[(0,n.jsx)(x(),{href:`/character/${e.id}?page=${String(t||"1")}&search=${String(a||"")}`,className:b().card_link,children:(0,n.jsx)("h2",{className:b().card_title,children:e.name})}),(0,n.jsx)(p._,{character:e})]})]})}var y=a(2121),v=a.n(y);function N({total:e,handleClose:t}){let{push:a,query:{page:r,search:o}}=(0,s.useRouter)(),c=Math.floor(Number(r))||1,l=v().pagination_box;c-1||(l=`${v().pagination_box_before}`),c<e||(l=`${v().pagination_box_after}`),c-1||c<e||(l=v().pagination_box);let i=e=>{a({pathname:"/",query:{page:String(e),search:o}})};return(0,n.jsx)("div",{className:v().pagination,onClick:t,children:(0,n.jsxs)("div",{className:l,onClick:t,children:[!!(c-1)&&(0,n.jsx)("button",{type:"button","aria-label":"Left",className:v().pag_left,onClick:()=>i(c-1)}),(0,n.jsxs)("div",{className:v().pages,children:[(0,n.jsx)("span",{children:c}),"-",(0,n.jsx)("span",{children:e})]}),c<e&&(0,n.jsx)("button",{type:"button","aria-label":"Right",className:v().pag_right,onClick:()=>i(c+1)})]})})}var C=a(5515),k=a.n(C);function S({characters:e,total:t,characterID:a,handleClose:s}){return e.length?(0,n.jsxs)("div",{className:"/"!==a?k().results:k().no_character,onClick:s,children:[(0,n.jsx)("ul",{className:k().characters,onClick:s,role:"presentation",children:e.map(e=>(0,n.jsx)("li",{className:k().characters_item,children:(0,n.jsx)(j,{character:e})},e.id))}),(0,n.jsx)(N,{total:t,handleClose:s})]}):(0,n.jsx)("div",{className:k().not_found_box,onClick:s,children:(0,n.jsxs)("div",{className:k().not_found,children:[(0,n.jsx)(m.r,{src:h.src,alt:"Rick and Morty not found"}),(0,n.jsx)("div",{className:k().text_container,children:"Characters not found"})]})})}var w=a(8557),R=a.n(w);function E({loader:e}){let{query:{search:t},replace:a}=(0,s.useRouter)(),o=(0,r.useRef)(null);return(0,n.jsxs)("form",{className:R().search_form,onSubmit:t=>{t.preventDefault(),"string"!=typeof o.current?.value||e||a({pathname:"/",query:{page:"1",search:o.current?.value.trim()}})},children:[(0,n.jsx)("input",{id:"search",className:R().search,type:"text",placeholder:"Search...",ref:o,defaultValue:t}),(0,n.jsx)("button",{type:"submit",className:R().search_button,"aria-label":"Search-button"})]})}var L=a(3890),q=a(1783),M=a(2227),D=a.n(M),U=!0;function I({children:e}){let{query:t,push:a,events:o,replace:c}=(0,s.useRouter)(),l=Math.floor(Number(t.page))||1,[i,_]=function(e){let[t,a]=(0,r.useState)(localStorage.getItem(e)||"");return(0,r.useEffect)(()=>localStorage.setItem(e,t),[e,t]),[t,a]}("R&M_search"),u=t.id||"/",{data:h,isError:f,error:x}=(0,q.C)({page:l,name:String(t.search||"")}),{characters:p,totalPages:m}=h||{characters:[],totalPages:0},{theme:g}=(0,L.F)(),[b,j]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{void 0!==t.search?_(String(t.search)):i.length>0&&c({pathname:"/",query:{page:l,search:i}})},[t,_,i,c,l]),f)throw x;let y=e=>{e.target===e.currentTarget&&"/"!==u&&a({pathname:"/",query:{page:l,search:t.search}})};return(0,r.useEffect)(()=>{let e=()=>j(!0),t=()=>j(!1);return o.on("routeChangeStart",e),o.on("routeChangeComplete",t),o.on("routeChangeError",t),()=>{o.off("routeChangeStart",e),o.off("routeChangeComplete",t),o.off("routeChangeError",t)}},[o]),(0,n.jsxs)("main",{className:"dark"===g?"main":"main light",onClick:y,role:"presentation",children:[(0,n.jsx)("section",{onClick:y,children:(0,n.jsx)(E,{loader:b})}),(0,n.jsx)("section",{className:D().results,onClick:y,children:(0,n.jsx)("div",{className:"/"!==u?D().character:D().results_box,children:b?(0,n.jsx)("div",{className:D().loader}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{characters:p,total:m,characterID:String(u),handleClose:y}),e?.(String(u))]})})}),(0,n.jsx)(d,{})]})}},8930:function(e){e.exports={card:"styles_card__qCQY2",text_container:"styles_text_container__0gNaz",card_title:"styles_card_title__nFRJb",card_link:"styles_card_link__L9Wd4"}},7790:function(e){e.exports={button:"styles_button__WdoMM"}},9505:function(e){e.exports={favorite:"styles_favorite__3_Hph"}},6388:function(e){e.exports={flyout:"styles_flyout__LFcDu",title:"styles_title__G3ZZV",buttons:"styles_buttons__KGnzR",button:"styles_button__j_xqT",download_link:"styles_download_link__aN5ry"}},7649:function(e){e.exports={image_container:"styles_image_container__HWpun",character_img:"styles_character_img__y8_sx",hidden:"styles_hidden__wncEB"}},8024:function(e){e.exports={loader:"styles_loader__cVuQp",l2:"styles_l2__TBnA6"}},2121:function(e){e.exports={pagination:"styles_pagination__Jm8Ba",pagination_box:"styles_pagination_box____K_t",pagination_box_before:"styles_pagination_box_before__vb3hf",pagination_box_after:"styles_pagination_box_after__2uIdq",pages:"styles_pages__8piJe",pag_left:"styles_pag_left__FQd1b",pag_right:"styles_pag_right__Qi_Dm"}},5515:function(e){e.exports={characters:"styles_characters__fwFvw",not_found_box:"styles_not_found_box__MrUxX",not_found:"styles_not_found__eyYz1",text_container:"styles_text_container__KMvGL",results:"styles_results__n4MfD",no_character:"styles_no_character__XzIuL"}},8557:function(e){e.exports={search_form:"styles_search_form__iDKGP",search:"styles_search__94caR",search_button:"styles_search_button__Qr77L"}},2227:function(e){e.exports={results:"index_results__8Gf0O",results_box:"index_results_box__UGopo",character:"index_character__4jTMT",loader:"index_loader__CIU8c"}}},function(e){e.O(0,[432,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);