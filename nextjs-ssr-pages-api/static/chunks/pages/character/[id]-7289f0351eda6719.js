(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{262:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/character/[id]",function(){return s(5394)}])},5177:function(e,t,s){"use strict";s.d(t,{o:function(){return i}});var a=s(5893),n=s(3967),r=s.n(n),c=s(7790),l=s.n(c);function i({children:e,type:t="button",onClick:s,className:n,isDisabled:c=!1,id:i="",aria_label:o="Button"}){return(0,a.jsx)("button",{className:r()(l().button,n),type:t,onClick:s,disabled:c,id:i,"aria-label":o,children:e})}},1037:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var a=s(5893),n=s(5007),r=s(4127),c=s(9505),l=s.n(c);function i({character:e}){let t=(0,n.I0)(),s=(0,r._2)(e);return(0,a.jsx)("button",{type:"button",className:l().favorite,name:"favorite",value:String(s),"aria-label":s?"Remove from favorites":"Add to favorites",onClick:()=>e&&(s?t((0,r.zm)(e)):t((0,r._p)(e))),children:s?"★":"☆"})}},151:function(e,t,s){"use strict";s.d(t,{r:function(){return d}});var a=s(5893),n=s(5675),r=s.n(n),c=s(7294),l=s(8024),i=s.n(l);function o(){return(0,a.jsx)("div",{className:i().loader})}var _=s(7649),u=s.n(_);function d({src:e,alt:t}){let[s,n]=(0,c.useState)(!0);return(0,a.jsxs)("div",{className:u().image_container,children:[s&&(0,a.jsx)(o,{}),(0,a.jsx)(r(),{className:s?u().hidden:u().character_img,src:e,alt:t,onLoad:()=>n(!1),width:300,height:300})]})}},5394:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return h},default:function(){return f}});var a=s(5893),n=s(1163),r=s(5177),c=s(1037),l=s(151),i=s(1783),o=s(9144),_=s.n(o);function u({characterID:e}){let{query:{page:t,search:s},push:o,replace:u}=(0,n.useRouter)(),{data:d,isFetching:h,isError:f,error:x}=(0,i.P6)(Number(e));if(f)throw x;if(null===d)return u("*"),null;let m=[`Species: ${d?.species}`,`Gender: ${d?.gender}`,`Status: ${d?.status}`,`Origin: ${d?.origin?.name}`,`Location: ${d?.location?.name}`];return(0,a.jsx)("section",{className:_().detailed_Card,children:h?(0,a.jsx)("div",{className:_().loader}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:_().card,children:[(0,a.jsx)(l.r,{src:d?.image||"",alt:"Character"}),(0,a.jsxs)("div",{className:_().text_container,children:[(0,a.jsx)("h2",{className:_().card_title,children:d?.name}),(0,a.jsx)("ul",{className:_().desc,children:m.map(e=>(0,a.jsx)("li",{className:_().desc_item,children:e},e))}),d?.type!==""&&(0,a.jsxs)("p",{className:_().type,children:["Type: ",d?.type]}),(0,a.jsxs)("p",{className:_().episodes,children:["Episodes: ",d?.episode.map(e=>e.replace(/\D/g,"")).join(", ")]}),(0,a.jsx)(c._,{character:d})]})]}),(0,a.jsx)(r.o,{className:_().close,onClick:()=>{o({pathname:"/",query:{page:t,search:s}})},children:"Close"})]})})}var d=s(795),h=!0;function f(){return(0,a.jsx)(d.default,{children:e=>(0,a.jsx)(u,{characterID:e})})}},795:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return U},default:function(){return G}});var a=s(5893),n=s(1163),r=s(7294),c=s(5007);let l=e=>{let t=e.map(e=>({name:e.name,species:e.species,gender:e.gender,status:e.status,origin:e.origin.name,location:e.location.name,episodes:e.episode.map(e=>e.replace(/\D/g,"")).join(", "),url:e.url})),s=[],a=Object.keys(t[0]||{});return s.push(a.join(",")),t.forEach(e=>{s.push(Object.values(e).map(e=>`"${e.replace(/"/g,'\\"')}"`).join(","))}),s.join("\n")};var i=s(4127),o=s(5177),_=s(6388),u=s.n(_);function d(){let e=(0,c.I0)(),t=(0,i.rc)(),s=URL.createObjectURL(new Blob([l(t)],{type:"text/csv"}));return(0,r.useEffect)(()=>()=>URL.revokeObjectURL(s),[s]),!!t.length&&(0,a.jsxs)("div",{className:u().flyout,children:[(0,a.jsx)("h3",{className:u().title,children:`${t.length} items are selected`}),(0,a.jsxs)("div",{className:u().buttons,children:[(0,a.jsx)(o.o,{className:u().button,"aria-label":"Unselect all",onClick:()=>e((0,i.V1)()),children:"Unselect all"}),(0,a.jsx)(o.o,{className:u().button,"aria-label":"Download as .csv",children:(0,a.jsx)("a",{className:u().download_link,href:s,download:`${t.length}_characters.csv`,children:"Download"})})]})]})}var h={src:"/_next/static/media/not_found.76733abb.jpg"},f=s(1664),x=s.n(f),m=s(1037),p=s(151),g=s(8930),j=s.n(g);function y({character:e}){let{query:{page:t,search:s}}=(0,n.useRouter)();return(0,a.jsxs)("div",{className:j().card,children:[(0,a.jsx)(p.r,{src:e.image,alt:"Character"}),(0,a.jsxs)("div",{className:j().text_container,children:[(0,a.jsx)(x(),{href:`/character/${e.id}?page=${String(t||"1")}&search=${String(s||"")}`,className:j().card_link,children:(0,a.jsx)("h2",{className:j().card_title,children:e.name})}),(0,a.jsx)(m._,{character:e})]})]})}var b=s(2121),N=s.n(b);function v({total:e,handleClose:t}){let{push:s,query:{page:r,search:c}}=(0,n.useRouter)(),l=Math.floor(Number(r))||1,i=N().pagination_box;l-1||(i=`${N().pagination_box_before}`),l<e||(i=`${N().pagination_box_after}`),l-1||l<e||(i=N().pagination_box);let o=e=>{s({pathname:"/",query:{page:String(e),search:c}})};return(0,a.jsx)("div",{className:N().pagination,onClick:t,children:(0,a.jsxs)("div",{className:i,onClick:t,children:[!!(l-1)&&(0,a.jsx)("button",{type:"button","aria-label":"Left",className:N().pag_left,onClick:()=>o(l-1)}),(0,a.jsxs)("div",{className:N().pages,children:[(0,a.jsx)("span",{children:l}),"-",(0,a.jsx)("span",{children:e})]}),l<e&&(0,a.jsx)("button",{type:"button","aria-label":"Right",className:N().pag_right,onClick:()=>o(l+1)})]})})}var C=s(5515),k=s.n(C);function S({characters:e,total:t,characterID:s,handleClose:n}){return e.length?(0,a.jsxs)("div",{className:"/"!==s?k().results:k().no_character,onClick:n,children:[(0,a.jsx)("ul",{className:k().characters,onClick:n,role:"presentation",children:e.map(e=>(0,a.jsx)("li",{className:k().characters_item,children:(0,a.jsx)(y,{character:e})},e.id))}),(0,a.jsx)(v,{total:t,handleClose:n})]}):(0,a.jsx)("div",{className:k().not_found_box,onClick:n,children:(0,a.jsxs)("div",{className:k().not_found,children:[(0,a.jsx)(p.r,{src:h.src,alt:"Rick and Morty not found"}),(0,a.jsx)("div",{className:k().text_container,children:"Characters not found"})]})})}var w=s(8557),R=s.n(w);function E({loader:e}){let{query:{search:t},replace:s}=(0,n.useRouter)(),c=(0,r.useRef)(null);return(0,a.jsxs)("form",{className:R().search_form,onSubmit:t=>{t.preventDefault(),"string"!=typeof c.current?.value||e||s({pathname:"/",query:{page:"1",search:c.current?.value.trim()}})},children:[(0,a.jsx)("input",{id:"search",className:R().search,type:"text",placeholder:"Search...",ref:c,defaultValue:t}),(0,a.jsx)("button",{type:"submit",className:R().search_button,"aria-label":"Search-button"})]})}var $=s(3890),q=s(1783),D=s(2227),L=s.n(D),U=!0;function G({children:e}){let{query:t,push:s,events:c,replace:l}=(0,n.useRouter)(),i=Math.floor(Number(t.page))||1,[o,_]=function(e){let[t,s]=(0,r.useState)(localStorage.getItem(e)||"");return(0,r.useEffect)(()=>localStorage.setItem(e,t),[e,t]),[t,s]}("R&M_search"),u=t.id||"/",{data:h,isError:f,error:x}=(0,q.C)({page:i,name:String(t.search||"")}),{characters:m,totalPages:p}=h||{characters:[],totalPages:0},{theme:g}=(0,$.F)(),[j,y]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{void 0!==t.search?_(String(t.search)):o.length>0&&l({pathname:"/",query:{page:i,search:o}})},[t,_,o,l,i]),f)throw x;let b=e=>{e.target===e.currentTarget&&"/"!==u&&s({pathname:"/",query:{page:i,search:t.search}})};return(0,r.useEffect)(()=>{let e=()=>y(!0),t=()=>y(!1);return c.on("routeChangeStart",e),c.on("routeChangeComplete",t),c.on("routeChangeError",t),()=>{c.off("routeChangeStart",e),c.off("routeChangeComplete",t),c.off("routeChangeError",t)}},[c]),(0,a.jsxs)("main",{className:"dark"===g?"main":"main light",onClick:b,role:"presentation",children:[(0,a.jsx)("section",{onClick:b,children:(0,a.jsx)(E,{loader:j})}),(0,a.jsx)("section",{className:L().results,onClick:b,children:(0,a.jsx)("div",{className:"/"!==u?L().character:L().results_box,children:j?(0,a.jsx)("div",{className:L().loader}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{characters:m,total:p,characterID:String(u),handleClose:b}),e?.(String(u))]})})}),(0,a.jsx)(d,{})]})}},8930:function(e){e.exports={card:"styles_card__qCQY2",text_container:"styles_text_container__0gNaz",card_title:"styles_card_title__nFRJb",card_link:"styles_card_link__L9Wd4"}},7790:function(e){e.exports={button:"styles_button__WdoMM"}},9144:function(e){e.exports={detailed_Card:"styles_detailed_Card__uZt00",card:"styles_card__sXVC9",text_container:"styles_text_container__G1bUS",card_title:"styles_card_title__IWGUs",desc:"styles_desc__djtHh",desc_item:"styles_desc_item__dDOZi",type:"styles_type__9rVP_",episodes:"styles_episodes__GecFr",close:"styles_close__4yfrC",loader:"styles_loader__hO1oi"}},9505:function(e){e.exports={favorite:"styles_favorite__3_Hph"}},6388:function(e){e.exports={flyout:"styles_flyout__LFcDu",title:"styles_title__G3ZZV",buttons:"styles_buttons__KGnzR",button:"styles_button__j_xqT",download_link:"styles_download_link__aN5ry"}},7649:function(e){e.exports={image_container:"styles_image_container__HWpun",character_img:"styles_character_img__y8_sx",hidden:"styles_hidden__wncEB"}},8024:function(e){e.exports={loader:"styles_loader__cVuQp",l2:"styles_l2__TBnA6"}},2121:function(e){e.exports={pagination:"styles_pagination__Jm8Ba",pagination_box:"styles_pagination_box____K_t",pagination_box_before:"styles_pagination_box_before__vb3hf",pagination_box_after:"styles_pagination_box_after__2uIdq",pages:"styles_pages__8piJe",pag_left:"styles_pag_left__FQd1b",pag_right:"styles_pag_right__Qi_Dm"}},5515:function(e){e.exports={characters:"styles_characters__fwFvw",not_found_box:"styles_not_found_box__MrUxX",not_found:"styles_not_found__eyYz1",text_container:"styles_text_container__KMvGL",results:"styles_results__n4MfD",no_character:"styles_no_character__XzIuL"}},8557:function(e){e.exports={search_form:"styles_search_form__iDKGP",search:"styles_search__94caR",search_button:"styles_search_button__Qr77L"}},2227:function(e){e.exports={results:"index_results__8Gf0O",results_box:"index_results_box__UGopo",character:"index_character__4jTMT",loader:"index_loader__CIU8c"}}},function(e){e.O(0,[432,888,774,179],function(){return e(e.s=262)}),_N_E=e.O()}]);